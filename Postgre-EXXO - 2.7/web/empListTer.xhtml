<ui:composition  xmlns="http://www.w3.org/1999/xhtml" 
                 xmlns:h="http://xmlns.jcp.org/jsf/html"
                 xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                 template="./main.xhtml" 
                 xmlns:f="http://xmlns.jcp.org/jsf/core"
                 xmlns:EXXO="http://xmlns.jcp.org/jsf/composite/EXXO"
                 xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:define name="title">Сотрудники офиса &#171;#{empListTerBean.of}&#187;</ui:define>
    <ui:define name="mainMenu">
        <ui:include src="menu-emp.xhtml"></ui:include>
    </ui:define>
    <ui:define name="mainContent">
        <div id="tContainer">
            <h:panelGrid columns="3" class="office exxo-table">
                <h:outputText value="Офис &#171;#{empListTerBean.o.name}&#187;" />
                <h:outputText value="#{empListTerBean.o.address}" />
                <h:outputText value="#{empListTerBean.o.telephon}" />
            </h:panelGrid>
        </div> 
        <div id="searchContainer">   
            <EXXO:seach name="query" nodes=".emps" 
                        data="var res='';node.all('.q1').each(function(){res+=this.text();});return res;" 
                        placeholder="поиск по имени" query="#{empListTerBean.q}" />
            <EXXO:seach name="query1" nodes=".emps" 
                        data="var res='';node.all('.q2').each(function(){res+=this.text();});return res;" 
                        placeholder="поиск по остальному" /></div>
        <EXXO:employeesBlock employees="#{empListTerBean.emp}" room="true" >
        </EXXO:employeesBlock>
        <h:outputStylesheet library="css" name="findEmployee.css" />
        <h:outputStylesheet library="css" name="empListTer.css" />
    </ui:define>
    <ui:define name="head">
        <link rel="stylesheet" href="index.css" type="text/css" />    
        <link rel="stylesheet" href="css/topMenu.css" type="text/css" />
        <link rel="stylesheet" href="css/exxo.css" type="text/css" />
        <h:outputStylesheet>
            <h:outputText value="#{cSS.css}" escape="false" />
            <h:outputText value="#{cSS1.getCss('empListTer.xhtml')}" escape="false" />
        </h:outputStylesheet>
    </ui:define>
    <ui:define name="topMenu" >
        <ul class="topMenu">
            <ui:include src="topMenu.xhtml"></ui:include>
            <li>
                <h:outputLink value="employees.xhtml" class="footmenu">
                    <h:outputText value="Настройка" />
                </h:outputLink>
            </li>
            <li>
                <h:outputLink value="http://exxo.ru/howto/staff-howto.html#find" class="footmenu howto" target="_blank">
                    <h:outputText value="?"></h:outputText>
                </h:outputLink>
            </li>
        </ul>    
    </ui:define>
    <ui:define name="METAS">
        <f:metadata>
            <f:viewAction action="#{empListTerBean.init()}" />
            <f:viewParam name="office" value="#{empListTerBean.office}" />
            <f:viewParam name="q" value="#{empListTerBean.q}" />
            <c:set var="body_id" value="empListTer_xhtml" />
        </f:metadata>
    </ui:define>
    <ui:define name="container">
    </ui:define>
</ui:composition>